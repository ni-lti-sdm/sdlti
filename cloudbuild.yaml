steps:  
# Building image
# Note: You need a shell to resolve environment variables with $$
- name: 'gcr.io/cloud-builders/docker'
  entrypoint: 'bash'
  args: [ 
          '-c',
          'docker build -f Dockerfile --build-arg SSH_KEY=$$SSH_KEY .'
        ]
  secretEnv: ['SSH_KEY']

secrets:
- kmsKeyName: projects/data-warehouse-project-235018/locations/global/keyRings/lti-secrets/cryptoKeys/msw-github-key
  secretEnv:
    SSH_KEY: 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